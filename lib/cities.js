// cities.js
// Configuration file for Kazakhstan cities with translations

export const CITY_KEYS = {
    ALMATY: 'almaty',
    ASTANA: 'astana',
    SHYMKENT: 'shymkent',
    KARAGANDA: 'karaganda',
    AKTOBE: 'aktobe',
    TARAZ: 'taraz',
    PAVLODAR: 'pavlodar',
    UST_KAMENOGORSK: 'ust_kamenogorsk',
    SEMEY: 'semey',
    ATYRAU: 'atyrau',
    KYZYLORDA: 'kyzylorda',
    KOSTANAY: 'kostanay',
    URALSK: 'uralsk',
    PETROPAVLOVSK: 'petropavlovsk',
    AKTAU: 'aktau',
    TEMIRTAU: 'temirtau',
    TURKESTAN: 'turkestan',
    KOKSHETAU: 'kokshetau',
    TALDYKORGAN: 'taldykorgan',
    EKIBASTUZ: 'ekibastuz',
    ZHEZKAZGAN: 'zhezkazgan',
    BALKHASH: 'balkhash',
    KENTAU: 'kentau',
    RUDNY: 'rudny',
    ZHANAOZEN: 'zhanaozen'
  };
  
  // This is the mapping we'll use for database operations
  // Always store the city key (e.g., 'almaty') in the database
  export const cities = [
    {
      key: CITY_KEYS.ALMATY,
      translations: {
        en: 'Almaty',
        ru: 'Алматы',
        kz: 'Алматы'
      }
    },
    {
      key: CITY_KEYS.ASTANA,
      translations: {
        en: 'Astana',
        ru: 'Астана',
        kz: 'Астана'
      }
    },
    {
      key: CITY_KEYS.SHYMKENT,
      translations: {
        en: 'Shymkent',
        ru: 'Шымкент',
        kz: 'Шымкент'
      }
    },
    {
      key: CITY_KEYS.KARAGANDA,
      translations: {
        en: 'Karaganda',
        ru: 'Караганда',
        kz: 'Қарағанды'
      }
    },
    {
      key: CITY_KEYS.AKTOBE,
      translations: {
        en: 'Aktobe',
        ru: 'Актобе',
        kz: 'Ақтөбе'
      }
    },
    {
      key: CITY_KEYS.TARAZ,
      translations: {
        en: 'Taraz',
        ru: 'Тараз',
        kz: 'Тараз'
      }
    },
    {
      key: CITY_KEYS.PAVLODAR,
      translations: {
        en: 'Pavlodar',
        ru: 'Павлодар',
        kz: 'Павлодар'
      }
    },
    {
      key: CITY_KEYS.UST_KAMENOGORSK,
      translations: {
        en: 'Ust-Kamenogorsk',
        ru: 'Усть-Каменогорск',
        kz: 'Өскемен'
      }
    },
    {
      key: CITY_KEYS.SEMEY,
      translations: {
        en: 'Semey',
        ru: 'Семей',
        kz: 'Семей'
      }
    },
    {
      key: CITY_KEYS.ATYRAU,
      translations: {
        en: 'Atyrau',
        ru: 'Атырау',
        kz: 'Атырау'
      }
    },
    {
      key: CITY_KEYS.KYZYLORDA,
      translations: {
        en: 'Kyzylorda',
        ru: 'Кызылорда',
        kz: 'Қызылорда'
      }
    },
    {
      key: CITY_KEYS.KOSTANAY,
      translations: {
        en: 'Kostanay',
        ru: 'Костанай',
        kz: 'Қостанай'
      }
    },
    {
      key: CITY_KEYS.URALSK,
      translations: {
        en: 'Uralsk',
        ru: 'Уральск',
        kz: 'Орал'
      }
    },
    {
      key: CITY_KEYS.PETROPAVLOVSK,
      translations: {
        en: 'Petropavlovsk',
        ru: 'Петропавловск',
        kz: 'Петропавл'
      }
    },
    {
      key: CITY_KEYS.AKTAU,
      translations: {
        en: 'Aktau',
        ru: 'Актау',
        kz: 'Ақтау'
      }
    },
    {
      key: CITY_KEYS.TEMIRTAU,
      translations: {
        en: 'Temirtau',
        ru: 'Темиртау',
        kz: 'Теміртау'
      }
    },
    {
      key: CITY_KEYS.TURKESTAN,
      translations: {
        en: 'Turkestan',
        ru: 'Туркестан',
        kz: 'Түркістан'
      }
    },
    {
      key: CITY_KEYS.KOKSHETAU,
      translations: {
        en: 'Kokshetau',
        ru: 'Кокшетау',
        kz: 'Көкшетау'
      }
    },
    {
      key: CITY_KEYS.TALDYKORGAN,
      translations: {
        en: 'Taldykorgan',
        ru: 'Талдыкорган',
        kz: 'Талдықорған'
      }
    },
    {
      key: CITY_KEYS.EKIBASTUZ,
      translations: {
        en: 'Ekibastuz',
        ru: 'Экибастуз',
        kz: 'Екібастұз'
      }
    },
    {
      key: CITY_KEYS.ZHEZKAZGAN,
      translations: {
        en: 'Zhezkazgan',
        ru: 'Жезказган',
        kz: 'Жезқазған'
      }
    },
    {
      key: CITY_KEYS.BALKHASH,
      translations: {
        en: 'Balkhash',
        ru: 'Балхаш',
        kz: 'Балқаш'
      }
    },
    {
      key: CITY_KEYS.KENTAU,
      translations: {
        en: 'Kentau',
        ru: 'Кентау',
        kz: 'Кентау'
      }
    },
    {
      key: CITY_KEYS.RUDNY,
      translations: {
        en: 'Rudny',
        ru: 'Рудный',
        kz: 'Рудный'
      }
    },
    {
      key: CITY_KEYS.ZHANAOZEN,
      translations: {
        en: 'Zhanaozen',
        ru: 'Жанаозен',
        kz: 'Жаңаөзен'
      }
    }
  ];
  
  // Helper functions to work with cities
  
  /**
   * Get city display name by key and language
   * @param {string} cityKey - The city key (e.g., 'almaty')
   * @param {string} language - Language code ('en', 'ru', or 'kz')
   * @returns {string} Translated city name
   */
  export const getCityNameByKey = (cityKey, language = 'en') => {
    const city = cities.find(city => city.key === cityKey);
    if (!city) return cityKey; // Fallback to the key if not found
    return city.translations[language] || city.translations.en; // Fallback to English if language not available
  };
  
  /**
   * Get city key by display name
   * @param {string} cityName - The displayed city name in any language
   * @returns {string|null} City key or null if not found
   */
  export const getCityKeyByName = (cityName) => {
    for (const city of cities) {
      const translationValues = Object.values(city.translations);
      if (translationValues.includes(cityName)) {
        return city.key;
      }
    }
    return null;
  };
  
  /**
   * Get all city names for a specific language
   * @param {string} language - Language code ('en', 'ru', or 'kk')
   * @returns {string[]} Array of translated city names, sorted alphabetically
   */
  export const getCityNamesByLanguage = (language = 'en') => {
    return cities
      .map(city => city.translations[language] || city.translations.en)
      .sort();
  };
  
  /**
   * Get city data for dropdown with key-value pairs
   * @param {string} language - Language code ('en', 'ru', or 'kk')
   * @returns {Array<{key: string, value: string}>} Array of city objects
   */
  export const getCityDropdownData = (language = 'en') => {
    return cities
      .map(city => ({
        key: city.key,
        value: city.translations[language] || city.translations.en
      }))
      .sort((a, b) => a.value.localeCompare(b.value));
  };